
<!DOCTYPE html>
<html>
<head>
  <title>Angular Lusty Picker by Marco Solari</title>
  <script type="text/javascript" src="bower_components/angular/angular.js"></script>
  <script type="text/javascript" src="bower_components/angular-bindonce/bindonce.js"></script>
  <script type="text/javascript" src="bower_components/moment/moment.js"></script>
  <script type="text/javascript" src="bower_components/moment-range/lib/moment-range.js"></script>
  <script type="text/javascript" src="build/angular-lusty-datepicker.js"></script>
  <script type="text/javascript">
    angular.module("testapp", ["lustyDatepicker"]);
    angular.module("testapp").controller("TestCtrl", function($scope){
      $scope.range = moment().range("2012-11-05", "2013-01-25")

      $scope.change = function(){
        $scope.range2 = moment().range("2012-11-15", "2012-12-25")
      }

      $scope.markers = [
        {
          day: moment(),
          marker: "tutoti"
        },
        {
          day: moment().add(2, 'day'),
          marker: "tutotite"
        }
      ]

      _callthis = function(day) {
        console.log("call this: ", day);
      }

      _filter = function (day) {
        w = day.weekday();
        return w < 6 && w > 0;
      }

      var template = "<div class=\"lusty-picker__wrapperxx\">\n  <button type=\"button\" class=\"lusty-picker__prev-month\" ng-click=\"moveMonth(-1)\"><<</button>\n  <div class=\"lusty-picker__month\"\n    bindonce ng-repeat=\"month in months track by $index\">\n    <div class=\"lusty-picker__month-name\" ng-bind=\"month.name\"></div>\n    <table class=\"lusty-picker-calendar\">\n      <tr class=\"lusty-picker-calendar__days\">\n        <th bindonce ng-repeat=\"day in month.weeks[1]\"\n          class=\"lusty-picker-calendar__weekday\"\n          bo-text=\"day.date.format('dd')\">\n        </th>\n      </tr>\n      <tr bindonce ng-repeat=\"week in month.weeks\">\n        <td\n            bo-class='{\n              \"lusty-picker-calendar__day\": day,\n              \"lusty-picker-calendar__day--selected\": day.selected,\n              \"lusty-picker-calendar__day--disabled\": day.disabled,\n              \"lusty-picker-calendar__day--marked\": day.marker\n            }'\n            ng-repeat=\"day in week track by $index\" ng-click=\"select(day)\">\n            <div style=\"font-style: italic;\" class=\"lusty-picker-calendar__day-wrapper\"\n              bo-text=\"day.date.date()\"></div>\n            <div class=\"lusty-picker-calendar__day-marker-wrapper\">\n              <div class=\"lusty-picker-calendar__day-marker\"\n                ng-if=\"day.marker\"\n                ng-bind-template=\"\">\n              </div>\n            </div>\n        </td>\n      </tr>\n    </table>\n  </div>\n  <button type=\"button\" class=\"lusty-picker__next-month\" ng-click=\"moveMonth(1)\">>></button>\n</div>";

      $scope.date = null;
      $scope.multi = [moment(), moment().add(2, 'day'), moment().add(5, 'day')];
      $scope.mark = moment();
      $scope.options = {months: 1, after: moment(), template: template};
      $scope.optionsM = {start: moment().add(-1, 'month'), months: 3, mode: "multiple", callback: _callthis, filter: _filter};
      $scope.optionsMAfter = moment().add(-1, 'month');
      $scope.optionsK = {months: 1};

      $scope.dateSt = moment();
      $scope.optionsSt = {};


      $scope.dateDbA = moment();
      $scope.optionsDbA = {};
      $scope.dateDbB = moment();
      $scope.optionsDbB = {};

      $scope.addMarker = function() {
        $scope.markers.push({day: $scope.mark, marker: 'new marker'});
      }

    });
  </script>
  <link rel="stylesheet" type="text/css" href="build/angular-lusty-datepicker.css"/>
  <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css"/>
</head>
<body ng-app="testapp">
  <div class="wrapper">
    <header class="cf">
      <div class="col-1">
        <h1>Angular Lusty Datepicker</h1>
        <p class="with-love"><a href="http://marcolino.github.io/angular-lusty-datepicker/" alt="love">by <strong>marcolino</strong></a></p>
      </div>

      <div class="col-2">
        <p class="view">
          <a href="https://github.com/marcolino/angular-lusty-datepicker">
            View the project on GitHub
            <small>marcolino/angular-lusty-datepicker</small>
          </a>
        </p>
      </div>
    </header>
    <section>
      <div>
        <h3>JS</h3>
        <script src="https://gist.github.com/Belir/7141e7a7b878f5018fa1.js"></script>
        <h3>HTML</h3>
        <script src="https://gist.github.com/hodak/ee65580bc35dbad6196f.js"></script>
        <h3>Attributes</h3>
        <ul>
          <li><code>ng-model</code>: model for datepicker, momentJS object for 'simple' mode, or array of momentJS objects for 'multiple' mode</li>
          <li><code>options</code>: object containing options for datepicker</li>
          <li><code>markers</code>: array of markers, containing additional data for certain days, marker is object: {day: momentObject, marker: markerObject}</li>
          <li><code>after</code>: days after this date are enabled to select</li>
          <li><code>before</code>: days before this date are enabled to select</li>
          <li><code>range-from</code>: enables highlighting days selected from picked date</li>
          <li><code>range-to</code>: enables highlighting days selected to picked date</li>
        </ul>
        <h3>Options</h3>
        <ul>
          <li><code>mode</code>: define mode of datepicker, default: 'simple', possible modes: 'simple', 'multiple'</li>
          <li><code>start</code>: init datepicker starting from this month</li>
          <li><code>months</code>: number of months used in datepicker</li>
          <li><code>filter</code>: function for filtering enabled dates, takes day as param, return true if day is selectable</li>
          <li><code>callback</code>: callback parameter to fire after selecting day, takes day as parameter</li>
          <li><code>markerTemplate</code>: template for ng-bind-template, used to display additional data for marked days, default: "{{ day.marker }}", where 'day' is object from markers array</li>
          <li><code>template</code>: string with custom template of picker directive (see test/index.html for example use)</li>
        </ul>

        <p>To support IE8 add those polyfills:</p>
        <ul>
          <li><code>Array.isArray</code></li>
        </ul>
      </div>
      <h1>Demos</h1>
      <div ng-controller="TestCtrl">
        <div class="demo demo--simple">
          <h2>Simple date picker</h2>
          <div class="cf">
            <lusty-datepicker ng-model="date" options="options"></lusty-datepicker>
            <lusty-datepicker ng-model="date" options="options"></lusty-datepicker>
          </div>

          <pre>$scope.date
=> {{date | json}}</pre>

          <script src="https://gist.github.com/hodak/9139b3dc448080d08adb.js"></script>
        </div>

        <hr>

        <div class="demo demo--multiple">
          <h2>Multiple date picker</h2>
          <lusty-datepicker ng-model="multi" options="optionsM"></lusty-datepicker>
          <code>ng-repeat="day in multi"</code>
          <pre ng-repeat="day in multi">{{ day | json}}</pre>
          <script src="https://gist.github.com/Belir/6e7421bc7fc1f63a38f0.js"></script>
        </div>

        <hr>

        <div class="demo demo--markers">
          <h2>Date picker with markers</h2>
          <lusty-datepicker ng-model="mark" options="optionsK" markers="markers"></lusty-datepicker>
          <button ng-click="addMarker()">Add marker on selected day</button>
          <br>
          <script src="https://gist.github.com/Belir/bd9503144dd7fbb278a9.js"></script>
        </div>

        <hr>

        <div class="demo demo--st">
          <h2>Date picker with date and no start</h2>
          <lusty-datepicker ng-model="dateSt" options="optionsSt"></lusty-datepicker>
          <pre>$scope.dateSt
=> {{ dateSt }}</pre>
          <script src="https://gist.github.com/hodak/bf56f64f3d4ca97aea7f.js"></script>
        </div>

        <hr>

        <div>
          <h2>Double datepicker for date range</h2>
          <lusty-datepicker ng-model="dateDbA" options="optionsDbA" range-from="true" before="dateDbB" style="display: inline-block"></lusty-datepicker>
          <lusty-datepicker ng-model="dateDbB" options="optionsDbB" range-to="true" after="dateDbA" style="display: inline-block"></lusty-datepicker>
          <pre>$scope.dateDbA
=> {{ dateDbA }}
$scope.dateDbB
=> {{ dateDbB }}</pre>
          <script src="https://gist.github.com/Belir/aa328c3c27db11f5b357.js"></script>
        </div>
      </div>
    </section>
    <footer>
      <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
    </footer>
  </div>
</body>
</html>